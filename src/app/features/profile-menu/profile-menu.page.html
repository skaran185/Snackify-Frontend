<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="dismiss()">
        <ion-icon name="chevron-back"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="profile-section">
    <!-- Action Cards -->



    <ng-container *ngIf="isLoggedIn && currentUserRole == 'Customer'">



      <div class="user-card">
        <div class="user-header">
          <div class="avatar">
            <ion-icon name="person"></ion-icon>
          </div>
          <div class="user-info">
            <h2>{{ user.name }}</h2>
            <p>{{ user.email }}</p>
          </div>
        </div>

        <div class="user-details">
          <div class="detail-item">
            <ion-icon name="home-outline"></ion-icon>
            <span>{{ user.address || 'No address available' }}</span>
          </div>
          <div class="detail-item">
            <ion-icon name="call-outline"></ion-icon>
            <span>{{ user.phoneNumber || 'No contact number' }}</span>
          </div>
        </div>
      </div>



      <div class="action-card" (click)="viewOrders()">
        <div class="card-icon">
          <ion-icon name="receipt-outline"></ion-icon>
        </div>
        <div class="card-content">
          <h3>My Orders</h3>
          <p>View your order history</p>
        </div>
        <ion-icon name="chevron-forward"></ion-icon>
      </div>

      <div class="action-card" (click)="manageAddresses()">
        <div class="card-icon">
          <ion-icon name="location-outline"></ion-icon>
        </div>
        <div class="card-content">
          <h3>Manage Addresses</h3>
          <p>Add or update delivery addresses</p>
        </div>
        <ion-icon name="chevron-forward"></ion-icon>
      </div>
    </ng-container>

    <ng-container *ngIf="isLoggedIn">
      <div class="action-card" (click)="goToEditProfile()">

        <div class="card-icon">
          <ion-icon name="create-outline"></ion-icon>
        </div>
        <div class="card-content">
          <h3>Edit Profile</h3>
          <p>Update your profile details</p>
        </div>
        <ion-icon name="chevron-forward"></ion-icon>
      </div>

    </ng-container>
    <!-- Auth Cards -->
    <div class="action-card" [class.logout-card]="isLoggedIn" (click)="logout()">
      <div class="card-icon">
        <ion-icon [name]="isLoggedIn ? 'log-out-outline' : 'log-in-outline'"></ion-icon>
      </div>
      <div class="card-content">
        <h3>{{ isLoggedIn ? 'Sign Out' : 'Log In' }}</h3>
        <p>{{ isLoggedIn ? 'Sign out of your account' : 'Sign in to your account' }}</p>
      </div>
      <ion-icon name="chevron-forward"></ion-icon>
    </div>

    <div class="action-card" *ngIf="!isLoggedIn" (click)="signup()">
      <div class="card-icon">
        <ion-icon name="person-add-outline"></ion-icon>
      </div>
      <div class="card-content">
        <h3>Sign Up</h3>
        <p>Create a new account</p>
      </div>
      <ion-icon name="chevron-forward"></ion-icon>
    </div>
  </div>
</ion-content>